<div class="new-task" [ngClass]="{'with-tasks': taskExists}">
    <div class="add-task" *ngIf="!edit; else edittingMode">
        <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 16.975V13.975H9V11.975H12V8.975H14V11.975H17V13.975H14V16.975H12ZM0 14V12H7.075C7.025 12.35 7.00417 12.6833 7.0125 13C7.02083 13.3167 7.05 13.65 7.1 14H0ZM0 10V8H9.65C9.26667 8.26667 8.92083 8.56667 8.6125 8.9C8.30417 9.23333 8.03333 9.6 7.8 10H0ZM0 6V4H15V6H0ZM0 2V0H15V2H0Z" fill="#383E59"/>
            </svg>
<h2>ახალი დავალების დამატება</h2>            
    </div>
    <ng-template #edittingMode>
        <div class="add-task">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M2.58333 15.4167H3.88958L12.85 6.45625L11.5437 5.15L2.58333 14.1104V15.4167ZM0.75 17.25V13.3542L12.85 1.27708C13.0333 1.10903 13.2358 0.979167 13.4573 0.8875C13.6788 0.795833 13.9118 0.75 14.1562 0.75C14.4007 0.75 14.6375 0.795833 14.8667 0.8875C15.0958 0.979167 15.2944 1.11667 15.4625 1.3L16.7229 2.58333C16.9062 2.75139 17.0399 2.95 17.124 3.17917C17.208 3.40833 17.25 3.6375 17.25 3.86667C17.25 4.11111 17.208 4.3441 17.124 4.56563C17.0399 4.78715 16.9062 4.98958 16.7229 5.17292L4.64583 17.25H0.75ZM12.1854 5.81458L11.5437 5.15L12.85 6.45625L12.1854 5.81458Z" fill="#383E59"/>
                </svg>                
    <h2>დავალების რედაქტირება</h2>            
        </div>
    </ng-template>
    <form action="" [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="input-container">
            <label for="name" *ngIf="!edit; else changeName">შეიყვანეთ დასახელება</label>
            <ng-template #changeName>
                <label for="name">შეცვალეთ დასახელება</label>
            </ng-template>
            <input  type="text" formControlName="name" [value]="taskToEdit?.name">
            <p class="error-message">{{!nameValid ? 'სახელი სავალდებულოა' :''}}</p>
        </div>
        <div class="dropdown">
            <app-custom-dropdown [options]="dropdownOptions" [submitted]="submitted" (optionSelected)="onOptionSelected($event)" [placeholderValue]="taskToEdit?.status" [reset]="resetStatus"></app-custom-dropdown>
            <p class="error-message">{{!optionValid ? 'სტატუსი სავალდებულოა' : ''}}</p>
        </div>


        <button *ngIf="!edit; else editButton" type="submit" class="button"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6.91675 9.08329H0.416748V6.91663H6.91675V0.416626H9.08342V6.91663H15.5834V9.08329H9.08342V15.5833H6.91675V9.08329Z" fill="white"/>
            </svg> დამატება
            </button>
            <ng-template #editButton>
                <button type="submit" class="button"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2.58333 15.4167H3.88958L12.85 6.45625L11.5437 5.15L2.58333 14.1104V15.4167ZM0.75 17.25V13.3542L12.85 1.27708C13.0333 1.10903 13.2358 0.979167 13.4573 0.8875C13.6788 0.795833 13.9118 0.75 14.1562 0.75C14.4007 0.75 14.6375 0.795833 14.8667 0.8875C15.0958 0.979167 15.2944 1.11667 15.4625 1.3L16.7229 2.58333C16.9062 2.75139 17.0399 2.95 17.124 3.17917C17.208 3.40833 17.25 3.6375 17.25 3.86667C17.25 4.11111 17.208 4.3441 17.124 4.56563C17.0399 4.78715 16.9062 4.98958 16.7229 5.17292L4.64583 17.25H0.75ZM12.1854 5.81458L11.5437 5.15L12.85 6.45625L12.1854 5.81458Z" fill="white"/>
                    </svg>
                     რედაქტირება
                    </button>
            </ng-template>
    </form>
</div>
